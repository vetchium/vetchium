BEGIN;

-- First delete all employer post tags
DELETE FROM employer_post_tags
WHERE employer_post_id IN (
    SELECT id FROM employer_posts
    WHERE employer_id IN (
        '12345678-0026-0026-0026-000000000201'::uuid,
        '12345678-0026-0026-0026-000000000202'::uuid,
        '12345678-0026-0026-0026-000000000203'::uuid,
        '12345678-0026-0026-0026-000000000204'::uuid,
        '12345678-0026-0026-0026-000000000205'::uuid
    )
);

-- Then delete all employer posts
DELETE FROM employer_posts
WHERE employer_id IN (
    '12345678-0026-0026-0026-000000000201'::uuid,
    '12345678-0026-0026-0026-000000000202'::uuid,
    '12345678-0026-0026-0026-000000000203'::uuid,
    '12345678-0026-0026-0026-000000000204'::uuid,
    '12345678-0026-0026-0026-000000000205'::uuid
);

-- Delete org following relationships
DELETE FROM org_following_relationships
WHERE hub_user_id IN (
    '12345678-0026-0026-0026-000000060001'::uuid,
    '12345678-0026-0026-0026-000000060002'::uuid
);

-- Delete hub user home timelines
DELETE FROM hu_home_timelines
WHERE hub_user_id IN (
    '12345678-0026-0026-0026-000000060001'::uuid,
    '12345678-0026-0026-0026-000000060002'::uuid
);

-- Delete hub user active home timelines
DELETE FROM hu_active_home_timelines
WHERE hub_user_id IN (
    '12345678-0026-0026-0026-000000060001'::uuid,
    '12345678-0026-0026-0026-000000060002'::uuid
);

-- Delete hub user tokens
DELETE FROM hub_user_tokens
WHERE hub_user_id IN (
    '12345678-0026-0026-0026-000000060001'::uuid,
    '12345678-0026-0026-0026-000000060002'::uuid
);

-- Delete hub users
DELETE FROM hub_users
WHERE id IN (
    '12345678-0026-0026-0026-000000060001'::uuid,
    '12345678-0026-0026-0026-000000060002'::uuid
);

-- Delete org user TFA codes
DELETE FROM org_user_tfa_codes
WHERE tfa_token IN (
    SELECT token FROM org_user_tokens
    WHERE org_user_id IN (
        '12345678-0026-0026-0026-000000040001'::uuid,
        '12345678-0026-0026-0026-000000040002'::uuid,
        '12345678-0026-0026-0026-000000040003'::uuid,
        '12345678-0026-0026-0026-000000040004'::uuid,
        '12345678-0026-0026-0026-000000040005'::uuid,
        '12345678-0026-0026-0026-000000040006'::uuid,
        '12345678-0026-0026-0026-000000040007'::uuid,
        '12345678-0026-0026-0026-000000040008'::uuid,
        '12345678-0026-0026-0026-000000040009'::uuid,
        '12345678-0026-0026-0026-000000040010'::uuid,
        '12345678-0026-0026-0026-000000040011'::uuid,
        '12345678-0026-0026-0026-000000040012'::uuid,
        '12345678-0026-0026-0026-000000040013'::uuid
    )
);

-- Delete org user tokens
DELETE FROM org_user_tokens
WHERE org_user_id IN (
    '12345678-0026-0026-0026-000000040001'::uuid,
    '12345678-0026-0026-0026-000000040002'::uuid,
    '12345678-0026-0026-0026-000000040003'::uuid,
    '12345678-0026-0026-0026-000000040004'::uuid,
    '12345678-0026-0026-0026-000000040005'::uuid,
    '12345678-0026-0026-0026-000000040006'::uuid,
    '12345678-0026-0026-0026-000000040007'::uuid,
    '12345678-0026-0026-0026-000000040008'::uuid,
    '12345678-0026-0026-0026-000000040009'::uuid,
    '12345678-0026-0026-0026-000000040010'::uuid,
    '12345678-0026-0026-0026-000000040011'::uuid,
    '12345678-0026-0026-0026-000000040012'::uuid,
    '12345678-0026-0026-0026-000000040013'::uuid
);

-- Delete org users
DELETE FROM org_users
WHERE id IN (
    '12345678-0026-0026-0026-000000040001'::uuid,
    '12345678-0026-0026-0026-000000040002'::uuid,
    '12345678-0026-0026-0026-000000040003'::uuid,
    '12345678-0026-0026-0026-000000040004'::uuid,
    '12345678-0026-0026-0026-000000040005'::uuid,
    '12345678-0026-0026-0026-000000040006'::uuid,
    '12345678-0026-0026-0026-000000040007'::uuid,
    '12345678-0026-0026-0026-000000040008'::uuid,
    '12345678-0026-0026-0026-000000040009'::uuid,
    '12345678-0026-0026-0026-000000040010'::uuid,
    '12345678-0026-0026-0026-000000040011'::uuid,
    '12345678-0026-0026-0026-000000040012'::uuid,
    '12345678-0026-0026-0026-000000040013'::uuid
);

-- Delete employer primary domains
DELETE FROM employer_primary_domains
WHERE employer_id IN (
    '12345678-0026-0026-0026-000000000201'::uuid,
    '12345678-0026-0026-0026-000000000202'::uuid,
    '12345678-0026-0026-0026-000000000203'::uuid,
    '12345678-0026-0026-0026-000000000204'::uuid,
    '12345678-0026-0026-0026-000000000205'::uuid
);

-- Delete domains
DELETE FROM domains
WHERE id IN (
    '12345678-0026-0026-0026-000000003001'::uuid,
    '12345678-0026-0026-0026-000000003002'::uuid,
    '12345678-0026-0026-0026-000000003003'::uuid,
    '12345678-0026-0026-0026-000000003004'::uuid,
    '12345678-0026-0026-0026-000000003005'::uuid
);

-- Delete employers
DELETE FROM employers
WHERE id IN (
    '12345678-0026-0026-0026-000000000201'::uuid,
    '12345678-0026-0026-0026-000000000202'::uuid,
    '12345678-0026-0026-0026-000000000203'::uuid,
    '12345678-0026-0026-0026-000000000204'::uuid,
    '12345678-0026-0026-0026-000000000205'::uuid
);

-- Delete test emails
DELETE FROM emails
WHERE email_key IN (
    '12345678-0026-0026-0026-000000000011'::uuid,
    '12345678-0026-0026-0026-000000000012'::uuid,
    '12345678-0026-0026-0026-000000000013'::uuid,
    '12345678-0026-0026-0026-000000000014'::uuid,
    '12345678-0026-0026-0026-000000000015'::uuid
);

COMMIT;
